------------------------------------------------------------------------
r156 | sam | 2007-01-07 22:14:26 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/fd.c
   M /trunk/src/fd.h
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/load-fd.c
   M /trunk/src/load-signal.c
   M /trunk/src/load-stream.c

  * Factor regex stuff into fd.c, so that <regex.h> isn’t needed otherwhere.

------------------------------------------------------------------------
r155 | sam | 2007-01-07 22:13:31 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/load-stream.c

  * Use __srefill() on OS X, too. It now works properly.

------------------------------------------------------------------------
r154 | sam | 2007-01-07 21:50:49 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/load-stream.c

  * Implemented freopen().

------------------------------------------------------------------------
r153 | sam | 2007-01-07 21:24:03 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Protect __srefill_orig() calls.

------------------------------------------------------------------------
r152 | sam | 2007-01-07 20:12:35 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/bootstrap

  * Updated bootstrap script.

------------------------------------------------------------------------
r151 | sam | 2007-01-07 19:45:00 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c
   M /trunk/test/testsuite.sh

  * Documented stdin behaviour.

------------------------------------------------------------------------
r150 | sam | 2007-01-07 19:36:19 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

  * Factored sources in the makefile.

------------------------------------------------------------------------
r149 | sam | 2007-01-07 19:34:50 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   D /trunk/src/chars.c
   D /trunk/src/chars.h
   M /trunk/src/fuzz.c
   M /trunk/src/fuzz.h
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/zzuf.c

  * Merged chars.c and fuzz.c.

------------------------------------------------------------------------
r148 | sam | 2007-01-07 19:18:50 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/chars.c (from /trunk/src/libzzuf.c:126)
   A /trunk/src/chars.h
   A /trunk/src/fd.c (from /trunk/src/libzzuf.c:126)
   A /trunk/src/fd.h
   M /trunk/src/fuzz.c
   M /trunk/src/fuzz.h
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-signal.c
   M /trunk/src/load-stream.c
   M /trunk/src/zzuf.c

  * If no argument is given, just fuzz standard input.

------------------------------------------------------------------------
r147 | sam | 2007-01-07 18:12:53 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Don't call cat or dd in the testsuite if they're statically linked.

------------------------------------------------------------------------
r146 | sam | 2007-01-07 17:31:33 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fix a compilation warning.

------------------------------------------------------------------------
r145 | sam | 2007-01-07 17:29:25 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Added note about 64-bit offsets in manpage.

------------------------------------------------------------------------
r144 | sam | 2007-01-07 17:27:59 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fixed __srefill()/lseek() conflict issue.

------------------------------------------------------------------------
r143 | sam | 2007-01-07 17:09:13 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Only use __srefill on OpenBSD and FreeBSD.

------------------------------------------------------------------------
r142 | sam | 2007-01-07 16:55:24 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Updated manpage, fixed - to \- here and there.

------------------------------------------------------------------------
r141 | sam | 2007-01-07 16:55:00 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Implemented BSD stdio by overriding __srefill().

------------------------------------------------------------------------
r140 | sam | 2007-01-07 15:22:34 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fuzz in __srefill even if _zz_disabled is on.

------------------------------------------------------------------------
r139 | sam | 2007-01-07 15:16:46 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Oops, got it wrong.

------------------------------------------------------------------------
r138 | sam | 2007-01-07 15:16:06 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fix compilation warnings on BSD libc’s and a bug on FreeBSD.

------------------------------------------------------------------------
r137 | sam | 2007-01-07 15:14:19 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Implemented __refill(). Untested yet.

------------------------------------------------------------------------
r136 | sam | 2007-01-07 15:13:29 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Made the testsuite shorter.

------------------------------------------------------------------------
r135 | sam | 2007-01-07 14:20:04 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Protected the _IO_getc_orig declaration.

------------------------------------------------------------------------
r134 | sam | 2007-01-07 14:18:36 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Oops, compilation fix.

------------------------------------------------------------------------
r133 | sam | 2007-01-07 14:16:43 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/load-stream.c

  * Added __srefill() skeleton, for BSD libc.

------------------------------------------------------------------------
r132 | sam | 2007-01-07 13:39:30 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Added a note about statically linked binaries and one about getc().

------------------------------------------------------------------------
r131 | sam | 2007-01-07 13:06:07 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Don’t run the testsuite if /bin/cat is statically linked.

------------------------------------------------------------------------
r130 | sam | 2007-01-07 11:34:45 +0100 (Sun, 07 Jan 2007) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/doc/zzuf.1
   M /trunk/src/fuzz.c
   M /trunk/src/load-stream.c
   M /trunk/test/testsuite.sh

  * Always define getc(), but undefine the getc macro beforehands just in case.
  * Implemented _IO_getc().

------------------------------------------------------------------------
r129 | sam | 2007-01-07 10:34:42 +0100 (Sun, 07 Jan 2007) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/doc/zzuf.1
   M /trunk/src/load-stream.c

  * Implemented fseeko().

------------------------------------------------------------------------
r128 | sam | 2007-01-06 23:17:09 +0100 (Sat, 06 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fix a bug in the fgetln() implementation. The newline was not properly
    accounted for in the returned length.

------------------------------------------------------------------------
r127 | sam | 2007-01-06 22:54:02 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * BSD's md5 does not have a --help option. Trying /dev/null instead.

------------------------------------------------------------------------
r126 | sam | 2007-01-06 22:38:33 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Cleaned up code.

------------------------------------------------------------------------
r125 | sam | 2007-01-06 22:37:42 +0100 (Sat, 06 Jan 2007) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am

  * Only link with -ldl when available.
  * Removed PKG_* stuff from configure.ac.
  * Add more compilation warnings.

------------------------------------------------------------------------
r124 | sam | 2007-01-06 22:25:56 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Got testsuite to work on FreeBSD.

------------------------------------------------------------------------
r123 | sam | 2007-01-06 21:59:28 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fix for BSD machines: getc() may be defined as a macro.

------------------------------------------------------------------------
r122 | sam | 2007-01-06 21:24:54 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Fixed the head call in the testsuite so that it works on OS X.

------------------------------------------------------------------------
r121 | sam | 2007-01-06 21:20:15 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Added head and tail to the testsuite.

------------------------------------------------------------------------
r120 | sam | 2007-01-06 21:08:31 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-fd.c

  * Fixed implicit declaration.

------------------------------------------------------------------------
r119 | sam | 2007-01-06 21:02:01 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Updated documentation wrt. mmap().

------------------------------------------------------------------------
r118 | sam | 2007-01-06 21:01:51 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/configure.ac

  * Missing autoconf check for mmap64().

------------------------------------------------------------------------
r117 | sam | 2007-01-06 21:01:25 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-fd.c

  * Implemented the mmap() family.

------------------------------------------------------------------------
r116 | sam | 2007-01-06 21:01:15 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Implemented rewind().

------------------------------------------------------------------------
r115 | sam | 2007-01-06 16:54:14 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c
   M /trunk/test/testsuite.sh

  * Fix fread() issue with standard input reading.

------------------------------------------------------------------------
r114 | sam | 2007-01-06 15:03:07 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Added a note about mmap() not being available.

------------------------------------------------------------------------
r113 | sam | 2007-01-06 15:02:51 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/debug.c
   M /trunk/src/zzuf.c

  * Fix build with older versions of gcc.

------------------------------------------------------------------------
r112 | sam | 2007-01-06 11:51:44 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c

  * Documentation tuning.

------------------------------------------------------------------------
r111 | sam | 2007-01-06 01:40:51 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/src/zzuf.c

  * Version 0.2 is ready.

------------------------------------------------------------------------
r110 | sam | 2007-01-06 01:26:39 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Another note in the manpage.

------------------------------------------------------------------------
r109 | sam | 2007-01-06 01:10:46 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Cosmetic fixes.

------------------------------------------------------------------------
r108 | sam | 2007-01-06 01:08:16 +0100 (Sat, 06 Jan 2007) | 4 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c

  * Implemented --max-crashes.
  * Renamed --forks to --max-forks.
  * Changed debug messages format.

------------------------------------------------------------------------
r107 | sam | 2007-01-06 00:15:29 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Oops, forgot to fix --help output.

------------------------------------------------------------------------
r106 | sam | 2007-01-06 00:14:37 +0100 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c

  * Rename --fork to --max-forks.

------------------------------------------------------------------------
r105 | sam | 2007-01-05 22:36:13 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Specified signal handling stuff in the manpage.

------------------------------------------------------------------------
r104 | sam | 2007-01-05 22:33:28 +0100 (Fri, 05 Jan 2007) | 3 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Split the bugs manpage section into bugs and restrictions.
  * Listed diverted functions.

------------------------------------------------------------------------
r103 | sam | 2007-01-05 18:34:10 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fix an uncontrolled corruption bug in fgetln().

------------------------------------------------------------------------
r102 | sam | 2007-01-05 17:03:04 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Fix fgetln(). The testsuite *almost* passes.

------------------------------------------------------------------------
r101 | sam | 2007-01-05 15:36:39 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-stream.c

  * Implemented BSD fgetln(). Untested yet.

------------------------------------------------------------------------
r100 | sam | 2007-01-05 12:01:49 +0100 (Fri, 05 Jan 2007) | 3 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Put back grep and sed into the testsuite, now that we can protect newlines
    from being fuzzed away.

------------------------------------------------------------------------
r99 | sam | 2007-01-05 11:49:12 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Minor layout tuning.

------------------------------------------------------------------------
r98 | sam | 2007-01-05 11:28:07 +0100 (Fri, 05 Jan 2007) | 3 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/libzzuf.c

  * Allow octal escape values for -P and -R.
  * Updated manpage accordingly and added a few minor things in it.

------------------------------------------------------------------------
r97 | sam | 2007-01-05 09:01:06 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c

  * Change -N to -n for --network.

------------------------------------------------------------------------
r96 | sam | 2007-01-05 08:57:41 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Clarified reproducibility claim.

------------------------------------------------------------------------
r95 | sam | 2007-01-05 08:52:30 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/zzuf.c

  * Network support.

------------------------------------------------------------------------
r94 | sam | 2007-01-05 01:24:43 +0100 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Manpage layout improvements.

------------------------------------------------------------------------
r93 | sam | 2007-01-04 14:33:33 +0100 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Minor manpage improvement.

------------------------------------------------------------------------
r92 | sam | 2007-01-04 14:28:35 +0100 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Improved manpage, especially the statistical effect of using -R.

------------------------------------------------------------------------
r91 | sam | 2007-01-04 09:59:05 +0100 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/zzuf.c

  * Implemented -R / --refuse.

------------------------------------------------------------------------
r90 | sam | 2007-01-04 02:09:04 +0100 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/zzuf.c

  * Implement -P / --protect.

------------------------------------------------------------------------
r89 | sam | 2007-01-03 23:51:36 +0100 (Wed, 03 Jan 2007) | 4 lines
Changed paths:
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c

  * Added a _zz_disabled flag. This is needed on OS X where we protect the
    fopen_orig() call because it will call our own diverted open() function
    and we don't want it to fiddle with our structures.

------------------------------------------------------------------------
r88 | sam | 2007-01-03 23:25:45 +0100 (Wed, 03 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/fuzz.c
   M /trunk/src/load-stream.c

  * Do not fuzz anything if 0 bytes were read.
  * Added a debug message for fuzzing.

------------------------------------------------------------------------
r87 | sam | 2007-01-03 23:12:02 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Better debug messages in load-stream.c.

------------------------------------------------------------------------
r86 | sam | 2007-01-03 23:10:57 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/debug.c

  * Implemented %c in our debug() printf implementation.

------------------------------------------------------------------------
r85 | sam | 2007-01-03 22:53:03 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Use "strings </dev/urandom", not "strings /dev/urandom".

------------------------------------------------------------------------
r84 | sam | 2007-01-03 22:51:11 +0100 (Wed, 03 Jan 2007) | 3 lines
Changed paths:
   M /trunk/test/fdcat.c
   M /trunk/test/streamcat.c
   M /trunk/test/testsuite.sh

  * Added a stupid PRNG to streamcat and fdcat.
  * Do not use sed in the testsuite, because of OS X.

------------------------------------------------------------------------
r83 | sam | 2007-01-03 22:20:22 +0100 (Wed, 03 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/random.c

  * No longer use the OS's PRNG, we use our own (based on a Dr Dobbs article
    from November 1985, page 91).

------------------------------------------------------------------------
r82 | sam | 2007-01-03 21:43:47 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Split some code into clean functions.

------------------------------------------------------------------------
r81 | sam | 2007-01-03 18:58:11 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Make the testsuite reproductible.

------------------------------------------------------------------------
r80 | sam | 2007-01-03 18:57:52 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/zzuf.c

  * Now works on Darwin!

------------------------------------------------------------------------
r79 | sam | 2007-01-03 10:09:41 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am
   M /trunk/src/load-fd.c
   M /trunk/src/load-signal.c
   M /trunk/src/load-stream.c
   M /trunk/src/zzuf.c
   M /trunk/test/fdcat.c

  * The whole crap now builds on OS X. Now if it only agreed to run, too...

------------------------------------------------------------------------
r78 | sam | 2007-01-03 10:04:01 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Minor optimisations to the testsuite.

------------------------------------------------------------------------
r77 | sam | 2007-01-03 02:28:02 +0100 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Oops, fixed the testsuite again.

------------------------------------------------------------------------
r76 | sam | 2007-01-02 19:26:56 +0100 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Oops, fixed stdout writing.

------------------------------------------------------------------------
r75 | sam | 2007-01-02 18:15:34 +0100 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Totally reworked webpage.

------------------------------------------------------------------------
r74 | sam | 2007-01-02 15:51:55 +0100 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Output process status to stdout, not stderr.

------------------------------------------------------------------------
r73 | sam | 2007-01-02 14:26:32 +0100 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Do not count debug bytes in the --max-bytes count.

------------------------------------------------------------------------
r72 | sam | 2007-01-02 11:45:19 +0100 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1

  * Fix typo in manpage.

------------------------------------------------------------------------
r71 | sam | 2007-01-02 02:13:05 +0100 (Tue, 02 Jan 2007) | 4 lines
Changed paths:
   M /trunk/src/debug.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/zzuf.c

  * Use a separate file descriptor for debugging messages, so that the -q flag
    does not remove debug messages.
  * Slightly improved fd handling code.

------------------------------------------------------------------------
r70 | sam | 2007-01-02 01:27:33 +0100 (Tue, 02 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/debug.c

  * Made the debug() function signal-safe by reimplementing the necessary
    subset of fprintf() we needed.

------------------------------------------------------------------------
r69 | sam | 2007-01-01 22:55:48 +0100 (Mon, 01 Jan 2007) | 2 lines
Changed paths:
   M /trunk/README

  * Deprecate README tutorial. Everything’s in the manpage now.

------------------------------------------------------------------------
r68 | sam | 2007-01-01 22:35:54 +0100 (Mon, 01 Jan 2007) | 3 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/Makefile.am
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   A /trunk/src/load-signal.c
   M /trunk/src/load.h
   M /trunk/src/zzuf.c

  * Implemented signal handling.
  * Updated documentation accordingly and improved a few parts.

------------------------------------------------------------------------
r67 | sam | 2007-01-01 20:49:57 +0100 (Mon, 01 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c

  * Alphabetise flags in help output and manpage.

------------------------------------------------------------------------
r66 | sam | 2007-01-01 20:14:55 +0100 (Mon, 01 Jan 2007) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/doc/zzuf.1

  * Update documentation.

------------------------------------------------------------------------
r65 | sam | 2007-01-01 19:56:13 +0100 (Mon, 01 Jan 2007) | 4 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/libzzuf.c
   M /trunk/src/zzuf.c

  * Switch to REG_EXTENDED.
  * Implement -c (--cmdline).
  * Updated documentation accordingly.

------------------------------------------------------------------------
r64 | sam | 2006-12-29 19:13:42 +0100 (Fri, 29 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Check regex syntax in zzuf.
  * Fix minor, harmful memory leaks.

------------------------------------------------------------------------
r63 | sam | 2006-12-29 18:49:11 +0100 (Fri, 29 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/debug.c
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c

  * Factored regex matching stuff.

------------------------------------------------------------------------
r62 | sam | 2006-12-29 18:22:11 +0100 (Fri, 29 Dec 2006) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/libzzuf.c
   M /trunk/src/zzuf.c
   M /trunk/test/testsuite.sh

  * Added the -i flag (for stdin fuzzing).

------------------------------------------------------------------------
r61 | sam | 2006-12-29 17:46:06 +0100 (Fri, 29 Dec 2006) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c

  * Change -i/-e to -I/-E.

------------------------------------------------------------------------
r60 | sam | 2006-12-28 21:32:21 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c

  * Renamed functions here and there.

------------------------------------------------------------------------
r59 | sam | 2006-12-28 21:22:32 +0100 (Thu, 28 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/debug.c
   M /trunk/src/debug.h
   M /trunk/src/fuzz.c
   M /trunk/src/fuzz.h
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c
   M /trunk/src/load.h
   M /trunk/src/random.c
   M /trunk/src/random.h

  * Improved zfd_register() and zfd_* function performances.
  * Changed function names here and there.

------------------------------------------------------------------------
r58 | sam | 2006-12-28 18:48:05 +0100 (Thu, 28 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c

  * Fixed a partial read data loss bug in the fread implementation.
  * Cosmetic fixes.

------------------------------------------------------------------------
r57 | sam | 2006-12-28 18:47:26 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/test
   M /trunk/test/Makefile.am
   A /trunk/test/fdcat.c
   A /trunk/test/streamcat.c
   M /trunk/test/testsuite.sh

  * Added cat reimplementations to the testsuite.

------------------------------------------------------------------------
r56 | sam | 2006-12-28 16:51:43 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c

  * Shorten function names.

------------------------------------------------------------------------
r55 | sam | 2006-12-28 16:48:10 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c

  * Hide struct zzuf behind public functions. No real abstraction yet.

------------------------------------------------------------------------
r54 | sam | 2006-12-28 16:44:28 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   A /trunk/ChangeLog

  * Add a changelog (from version 1.0).

------------------------------------------------------------------------
r53 | sam | 2006-12-28 16:44:13 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

  * Do not put version information in the distributed .so.

------------------------------------------------------------------------
r52 | sam | 2006-12-28 16:43:28 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/README

  * Update documentation.

------------------------------------------------------------------------
r51 | sam | 2006-12-23 20:12:52 +0100 (Sat, 23 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

  * Oops, correctly install manpage.

------------------------------------------------------------------------
r50 | sam | 2006-12-23 19:40:28 +0100 (Sat, 23 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

  * Typo in Makefile.am.

------------------------------------------------------------------------
r49 | sam | 2006-12-23 19:37:52 +0100 (Sat, 23 Dec 2006) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/README
   M /trunk/configure.ac

  * Prepare version 0.1.

------------------------------------------------------------------------
r48 | sam | 2006-12-23 00:40:03 +0100 (Sat, 23 Dec 2006) | 2 lines
Changed paths:
   M /trunk/README

  * Sync’ed README and manpage.

------------------------------------------------------------------------
r47 | sam | 2006-12-23 00:36:04 +0100 (Sat, 23 Dec 2006) | 2 lines
Changed paths:
   M /trunk/doc/zzuf.1
   M /trunk/src/zzuf.c

  * Slightly updated documentation.

------------------------------------------------------------------------
r46 | sam | 2006-12-22 18:01:16 +0100 (Fri, 22 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Fix stdout/stderr copying. Don't use fprintf for something that can
    have null bytes (lol @ me).

------------------------------------------------------------------------
r45 | sam | 2006-12-22 17:54:55 +0100 (Fri, 22 Dec 2006) | 3 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Fix a cleanup bug in the testsuite.
  * If any of the tests failed, do not erase the test files.

------------------------------------------------------------------------
r44 | sam | 2006-12-22 17:36:47 +0100 (Fri, 22 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Slightly modified --help message.

------------------------------------------------------------------------
r43 | sam | 2006-12-22 17:36:30 +0100 (Fri, 22 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   A /trunk/doc
   A /trunk/doc/Makefile.am
   A /trunk/doc/zzuf.1

  * Wrote a manpage. Phew.

------------------------------------------------------------------------
r42 | sam | 2006-12-22 16:06:21 +0100 (Fri, 22 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Implement --max-bytes and --max-time.

------------------------------------------------------------------------
r41 | sam | 2006-12-22 14:53:58 +0100 (Fri, 22 Dec 2006) | 4 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Implemented parallelisation.
  * Implemented “quiet” mode.
  * Handle stdin and stderr in their own pipes.

------------------------------------------------------------------------
r40 | sam | 2006-12-22 14:18:13 +0100 (Fri, 22 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/debug.c

  * Don’t rely on libzzuf.h in debug.c, so that it can be used in zzuf, too.

------------------------------------------------------------------------
r39 | sam | 2006-12-21 20:56:22 +0100 (Thu, 21 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Fork to launch the child and read its stdout/stderr.

------------------------------------------------------------------------
r38 | sam | 2006-12-18 14:23:56 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Improved help.

------------------------------------------------------------------------
r37 | sam | 2006-12-18 13:58:47 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/TODO

  * Improved TODO list.

------------------------------------------------------------------------
r36 | sam | 2006-12-18 13:48:49 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * More testsuite improvements.

------------------------------------------------------------------------
r35 | sam | 2006-12-18 12:07:42 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Better tests and error reporting in the testsuite.

------------------------------------------------------------------------
r34 | sam | 2006-12-18 00:58:23 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/load-fd.c
   M /trunk/src/load-stream.c

  * Huge performance improvement by caching the bit array. Yay.

------------------------------------------------------------------------
r33 | sam | 2006-12-17 23:14:13 +0100 (Sun, 17 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/load-stream.c

  * Added getc(), fgetc(), fgets(), ungetc(), getline() and getdelim().
  * sed now works properly.

------------------------------------------------------------------------
r32 | sam | 2006-12-17 23:12:11 +0100 (Sun, 17 Dec 2006) | 2 lines
Changed paths:
   M /trunk/test/testsuite.sh

  * Better, more complete testsuite program.

------------------------------------------------------------------------
r31 | sam | 2006-12-17 18:33:02 +0100 (Sun, 17 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   A /trunk/test
   A /trunk/test/Makefile.am
   A /trunk/test/testsuite.sh

  * Added a testsuite script.

------------------------------------------------------------------------
r30 | sam | 2006-12-17 18:17:31 +0100 (Sun, 17 Dec 2006) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/src/Makefile.am
   M /trunk/src/libzzuf.c
   A /trunk/src/load-fd.c (from /trunk/src/preload.c:26)
   A /trunk/src/load-stream.c (from /trunk/src/preload.c:26)
   A /trunk/src/load.h (from /trunk/src/preload.h:26)
   D /trunk/src/preload.c
   D /trunk/src/preload.h

  * Split preload.c into load-fd.c and load-stream.c.

------------------------------------------------------------------------
r29 | sam | 2006-12-16 11:37:41 +0100 (Sat, 16 Dec 2006) | 2 lines
Changed paths:
   M /trunk/README

  * Update README file.

------------------------------------------------------------------------
r28 | sam | 2006-12-15 21:42:27 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   A /trunk/AUTHORS
   M /trunk/Makefile.am

  * Added AUTHORS file.

------------------------------------------------------------------------
r27 | sam | 2006-12-15 19:49:33 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/TODO

  * More TODO.

------------------------------------------------------------------------
r26 | sam | 2006-12-15 19:48:24 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/src/libzzuf.c
   M /trunk/src/preload.c
   M /trunk/src/preload.h

  * Rename zzuf_preload to zzuf_preload_libc. You never know.

------------------------------------------------------------------------
r25 | sam | 2006-12-15 18:48:17 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/README

  * Added a few examples to README.

------------------------------------------------------------------------
r24 | sam | 2006-12-15 18:47:59 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c

  * Fix ratio so that it talks about bits, not bytes.

------------------------------------------------------------------------
r23 | sam | 2006-12-15 18:44:20 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/zzuf.c

  * Support --prefix (library location).

------------------------------------------------------------------------
r22 | sam | 2006-12-15 17:10:56 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/preload.c
   M /trunk/src/zzuf.c

  * Rename percent to ratio.

------------------------------------------------------------------------
r21 | sam | 2006-12-15 16:07:38 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/libzzuf.c

  * Crap, percents could not go higer than 1.0.

------------------------------------------------------------------------
r20 | sam | 2006-12-15 15:57:59 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/random.c
   M /trunk/src/random.h

  * Switch random back to 32 bits. It's enough (tm).

------------------------------------------------------------------------
r19 | sam | 2006-12-15 15:07:46 +0100 (Fri, 15 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/fuzz.c

  * Really fix the inconsistency bug. Now dd bs=2048 count=1 gives the same
    result as dd bs=1 count=2048.

------------------------------------------------------------------------
r18 | sam | 2006-12-15 14:20:01 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/preload.c

  * Implemented lseek() and factored lseek64() code.

------------------------------------------------------------------------
r17 | sam | 2006-12-15 14:12:44 +0100 (Fri, 15 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/fuzz.c

  * Handle percent < 100.0/CHUNK_SIZE a bit better.
  * Fix a grave index bug in the fuzzer that made everything inconsistent.

------------------------------------------------------------------------
r16 | sam | 2006-12-15 11:18:57 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/debug.h

  * Add a printf attribute to the debug function to trap errors.

------------------------------------------------------------------------
r15 | sam | 2006-12-15 11:07:53 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/preload.c

  * Oops, fix a bug in the lseek64() diversion.

------------------------------------------------------------------------
r14 | sam | 2006-12-15 11:06:30 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/src/preload.c

  * Divert close, fclose, lseek64.

------------------------------------------------------------------------
r13 | sam | 2006-12-15 10:08:52 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/preload.c

  * Remove useless verbosity.

------------------------------------------------------------------------
r12 | sam | 2006-12-15 10:03:48 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/preload.c

  * Divert fseek().

------------------------------------------------------------------------
r11 | sam | 2006-12-15 10:01:46 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Better error reporting if command failed.

------------------------------------------------------------------------
r10 | sam | 2006-12-15 09:42:27 +0100 (Fri, 15 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/preload.c
   M /trunk/src/zzuf.c

  * Add --debug.
  * --include and --exclude now work.

------------------------------------------------------------------------
r9 | sam | 2006-12-15 09:14:38 +0100 (Fri, 15 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/preload.c

  * Add fallbacks to our functions in case other libraries call libc functions
    in their init constructor (eg. libproc).

------------------------------------------------------------------------
r8 | sam | 2006-12-15 08:53:09 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/debug.c
   M /trunk/src/fuzz.c
   M /trunk/src/libzzuf.c
   M /trunk/src/libzzuf.h
   M /trunk/src/preload.c
   M /trunk/src/zzuf.c

  * Added code for --include/--exclude. Does not work yet.

------------------------------------------------------------------------
r7 | sam | 2006-12-15 01:43:39 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/preload.c

  * Support fopen64().

------------------------------------------------------------------------
r6 | sam | 2006-12-15 01:26:01 +0100 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/TODO
   M /trunk/src/Makefile.am
   A /trunk/src/debug.c
   A /trunk/src/debug.h
   A /trunk/src/fuzz.c
   A /trunk/src/fuzz.h
   M /trunk/src/libzzuf.c
   A /trunk/src/libzzuf.h
   A /trunk/src/preload.c (from /trunk/src/libzzuf.c:5)
   A /trunk/src/preload.h
   M /trunk/src/zzuf.c

  * First somewhat working version.

------------------------------------------------------------------------
r5 | sam | 2006-12-14 17:11:14 +0100 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/libzzuf.c

  * Fix a bug and refactor some code.

------------------------------------------------------------------------
r4 | sam | 2006-12-14 16:55:18 +0100 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk
   M /trunk/configure.ac
   M /trunk/src
   M /trunk/src/Makefile.am
   A /trunk/src/libzzuf.c

  * First try at libzzuf.

------------------------------------------------------------------------
r3 | sam | 2006-12-14 15:25:10 +0100 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/zzuf.c

  * Oops, typo.

------------------------------------------------------------------------
r2 | sam | 2006-12-14 15:23:07 +0100 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am
   A /trunk/src/random.c
   A /trunk/src/random.h
   M /trunk/src/zzuf.c

  * Easy POC code. We need some LD_PRELOAD shit instead.

------------------------------------------------------------------------
r1 | sam | 2006-12-13 21:17:27 +0100 (Wed, 13 Dec 2006) | 2 lines
Changed paths:
   A /branches
   A /tags
   A /trunk
   A /trunk/COPYING
   A /trunk/Makefile.am
   A /trunk/NEWS
   A /trunk/README
   A /trunk/TODO
   A /trunk/bootstrap
   A /trunk/configure.ac
   A /trunk/src
   A /trunk/src/Makefile.am
   A /trunk/src/zzuf.c

  * Initial tree.

------------------------------------------------------------------------
